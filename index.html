<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jarvis - HRTélécoms</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Mode réduit : Bouton flottant -->
    <div id="floatingButton" class="floating-button">
      <i class="fas fa-robot robot-icon"></i>
      <div class="pulse-ring"></div>
    </div>

    <!-- Mode déployé : Chatbot complet -->
    <div id="chatContainer" class="chat-container hidden">
      <!-- Header -->
      <div class="chat-header">
        <div class="header-left drag-region">
          <div class="header-icon-container">
            <i class="fas fa-robot"></i>
          </div>
          <div class="header-info">
            <h3>Jarvis</h3>
            <span class="status-text">
              <span class="status-dot"></span>
              En ligne
            </span>
          </div>
        </div>

        <!-- Boutons du header -->
        <div class="header-actions">
          <button class="icon-btn" id="settingsBtn" title="Paramètres">
            <i class="fas fa-cog"></i>
          </button>
          <button class="icon-btn" id="toggleFullscreenBtn" title="Plein écran (F11)">
            <i class="fas fa-expand"></i>
          </button>
          <button id="minimizeBtn" class="icon-btn" title="Réduire">
            <i class="fas fa-minus"></i>
          </button>
          <button id="closeBtn" class="icon-btn" title="Fermer">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>

      <!-- Messages -->
      <div id="messagesContainer" class="messages-container">
        <div class="message bot-message welcome-message">
          <div class="message-avatar">
            <i class="fas fa-robot"></i>
          </div>
          <div class="message-content">
            <div class="message-header">Jarvis</div>
            <p>Bonjour ! Je suis Jarvis, votre assistant interne HRTélécoms. Comment puis-je vous aider ?</p>
          </div>
        </div>
      </div>

      <!-- Typing indicator -->
      <div id="typingIndicator" class="typing-indicator">
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="typing-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <!-- Input -->
      <div class="chat-input-container">
        <div class="input-wrapper">
          <textarea id="messageInput" class="message-input" placeholder="Écrivez votre message..." rows="1"></textarea>
          <button id="sendButton" class="send-button">
            <i class="fas fa-paper-plane"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Panneau de configuration -->
    <div id="settingsPanel" class="settings-panel">
      <div class="settings-header">
        <h3><i class="fas fa-cog"></i> Paramètres</h3>
        <button id="closeSettings" class="close-settings">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="settings-content">
        <!-- URL de l'API -->
        <div class="form-group">
          <label for="apiUrl"><i class="fas fa-link"></i> URL de l'API</label>
          <input type="text" id="apiUrl" class="form-input" placeholder="https://chatbot.ateliernormandduweb.fr" />
        </div>

        <!-- Thème -->
        <div class="form-group">
          <label><i class="fas fa-palette"></i> Thème de l'interface</label>
          <div class="theme-toggle-container">
            <span class="theme-label">
              <i class="fas fa-moon"></i> Sombre
            </span>
            <label class="theme-switch">
              <input type="checkbox" id="themeToggle" />
              <span class="theme-slider"></span>
            </label>
            <span class="theme-label">
              <i class="fas fa-sun"></i> Clair
            </span>
          </div>
        </div>

        <!-- Boutons -->
        <div class="settings-actions">
          <button id="testConnection" class="btn-secondary">
            <i class="fas fa-plug"></i> Tester
          </button>
          <button id="saveSettings" class="btn-primary">
            <i class="fas fa-save"></i> Enregistrer
          </button>          
        </div>
        <div id="connectionStatus" class="connection-status"></div>
        <!-- Panneau d’aide (déplacé hors du panneau paramètres) -->
         <div class="help-section-racc">
          <div class="form-group">
            <label for="apiUrl"><i class="fas fa-link"></i> Raccourci</label>
          </div>
              <div class="help-section">
                <h4><i class="fas fa-comments"></i> Conversation</h4>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>N</kbd></div>
                  <div class="shortcut-description">Nouvelle conversation</div>
                </div>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>Enter</kbd></div>
                  <div class="shortcut-description">Envoyer le message</div>
                </div>
              </div>
    
              <div class="help-section">
                <h4><i class="fas fa-window-maximize"></i> Fenêtre</h4>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>M</kbd></div>
                  <div class="shortcut-description">Minimiser/Afficher le chat</div>
                </div>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Esc</kbd></div>
                  <div class="shortcut-description">Fermer le chat</div>
                </div>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>F11</kbd></div>
                  <div class="shortcut-description">Plein écran</div>
                </div>
              </div>
    
              <div class="help-section">
                <h4><i class="fas fa-cog"></i> Paramètres</h4>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>,</kbd></div>
                  <div class="shortcut-description">Ouvrir les paramètres</div>
                </div>
                <div class="shortcut-item">
                  <div class="shortcut-keys"><kbd>Ctrl</kbd> + <kbd>/</kbd></div>
                  <div class="shortcut-description">Afficher cette aide</div>
                </div>
              </div>
              <div class="help-footer">
                <p>
                  <i class="fas fa-lightbulb"></i> Astuce : Appuyez sur <kbd>Esc</kbd> pour fermer cette fenêtre
                </p>
              </div>
            </div>
    
          </div>
          </div>
      </div>


    <!-- Scripts -->
    <script src="preload.js"></script>
    <script src="renderer.js"></script>
  </body>
</html>
